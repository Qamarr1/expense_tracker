<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Expenses · Expense Tracker</title>
  <link rel="stylesheet" href="/static/style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
  <!-- Sidebar (same look as dashboard) -->
  <aside class="sidebar">
    <div class="brand-min">Expense Tracker</div>
    <nav class="nav">
      <a class="nav-item" href="/dashboard" data-nav="dashboard">Dashboard</a>
      <a class="nav-item" href="/income-ui" data-nav="income">Income</a>
      <a class="nav-item active" href="/expenses-ui" data-nav="expenses">Expense</a>
      <a class="nav-item" href="/docs" target="_blank">API Docs</a>
    </nav>
    <div class="sidebar-foot">v1.0</div>
  </aside>

  <main class="main">
    <!-- Title row with Refresh + Add (+) -->
    <div class="section-head">
      <h2 style="margin:0">Expenses</h2>
      <div>
        <button id="refresh" class="btn btn-primary" style="margin-right:8px">Refresh</button>
        <button id="add-expense" class="btn-add"><span class="plus">+</span> Add Expense</button>
      </div>
    </div>

    <!-- Overview (bar) -->
    <div class="card" style="margin-bottom:14px;">
      <h3 style="margin:0;color:#9ca3af;">Expense Overview</h3>
      <div class="chart-wrap"><canvas id="expense-line"></canvas></div>
      <div style="color:var(--muted);margin-top:8px;">
        Track your spending trends over time and gain insights into where your money goes.
      </div>
    </div>

    <!-- All expenses -->
    <div class="card">
      <h3 style="margin:0;color:#9ca3af;">All Expenses</h3>
      <div id="expense-list" class="list" style="margin-top:10px;"></div>
    </div>
  </main>

  <!-- Add/Edit Expense Modal (reuse your IDs; simple bare-bones) -->
  <div id="exp-modal-backdrop" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);align-items:center;justify-content:center;" aria-hidden="true">
    <div style="width:min(520px,92%);background:#12151a;border:1px solid var(--border);border-radius:16px;padding:18px;">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;">
        <h3 style="margin:0">Add Expense</h3>
        <button id="close-exp-modal" class="icon-btn" title="Close">✕</button>
      </div>

      <div style="display:grid;gap:10px;">
        <label>Expense Name <input id="ex-name" type="text" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);background:#0e1217;color:var(--text);" placeholder="e.g., Groceries"></label>
        <label>Amount (EUR) <input id="ex-amount" type="number" step="0.01" min="0.01" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);background:#0e1217;color:var(--text);" placeholder="e.g., 25.50"></label>
        <label>Date (YYYY-MM-DD) <input id="ex-date" type="date" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);background:#0e1217;color:var(--text);"></label>
        <label>Category
          <select id="ex-category" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);background:#0e1217;color:var(--text);">
            <option value="">Loading…</option>
          </select>
        </label>
        <label>Note (optional)
          <textarea id="ex-note" rows="3" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);background:#0e1217;color:var(--text);" placeholder="Any extra info…"></textarea>
        </label>
      </div>

      <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:12px;">
        <button id="cancel-exp-modal" class="btn">Cancel</button>
        <button id="save-expense" class="btn btn-primary">Save</button>
      </div>
    </div>
  </div>
<script src="/static/icons.js"></script>
<script src="/static/expenses.js?v=10"></script>
</body>
</html>
